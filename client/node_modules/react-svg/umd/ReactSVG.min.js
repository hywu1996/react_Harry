!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("prop-types"),require("react"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["prop-types","react","react-dom/server"],e):t.ReactSVG=e(t.PropTypes,t.React,t.ReactDOMServer)}(this,function(t,s,l){"use strict";function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}t=t&&t.hasOwnProperty("default")?t.default:t,s=s&&s.hasOwnProperty("default")?s.default:s,l=l&&l.hasOwnProperty("default")?l.default:l;var i=function(t){return t.cloneNode(!0)},a={},c=[],e=function(t,e){c[t]=c[t]||[],c[t].push(e)},n=function(t,r){var n="file:"===window.location.protocol;if(void 0!==a[t])a[t]instanceof SVGSVGElement?r(i(a[t])):e(t,r);else{if(!window.XMLHttpRequest)return r("Browser does not support XMLHttpRequest"),!1;a[t]={},e(t,r);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(404===o.status||null===o.responseXML)return r("Unable to load SVG file: "+t),n&&r("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),r(),!1;if(!(200===o.status||n&&0===o.status))return r("There was a problem injecting the SVG: "+o.status+" "+o.statusText),!1;if(o.responseXML instanceof Document)a[t]=o.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{e=(new DOMParser).parseFromString(o.responseText,"text/xml")}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return r("Unable to parse SVG file: "+t),!1;a[t]=e.documentElement}!function(e){for(var t=0,r=c[e].length;t<r;t++)!function(t){setTimeout(function(){c[e][t](i(a[e]))},0)}(t)}(t)}},o.open("GET",t),o.overrideMimeType&&o.overrideMimeType("text/xml"),o.send()}},x="http://www.w3.org/1999/xlink",k=[],G={},C=0,u=function(S,A,t,O){var e=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),j=S.getAttribute("data-src")||S.getAttribute("src");if(/\.svg/i.test(j))if(e)-1===k.indexOf(S)&&(k.push(S),S.setAttribute("src",""),n(j,function(u){if(void 0===u||"string"==typeof u)return O(u),!1;var t=S.getAttribute("id");t&&u.setAttribute("id",t);var e=S.getAttribute("title");e&&u.setAttribute("title",e);var r=[].concat(u.getAttribute("class")||[],"injected-svg",S.getAttribute("class")||[]).join(" ");u.setAttribute("class",function(t){for(var e={},r=(t=t.split(" ")).length,n=[];r--;)e.hasOwnProperty(t[r])||(e[t[r]]=1,n.unshift(t[r]));return n.join(" ")}(r));var n=S.getAttribute("style");n&&u.setAttribute("style",n);var o=[].filter.call(S.attributes,function(t){return/^data-\w[\w-]*$/.test(t.name)});Array.prototype.forEach.call(o,function(t){t.name&&t.value&&u.setAttribute(t.name,t.value)});var f,p,d,h,v,m={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(m).forEach(function(t){d=m[f=t];for(var e=0,r=(p=u.querySelectorAll("defs "+f+"[id]")).length;e<r;e++){var n;h=p[e].id,v=h+"-"+C,Array.prototype.forEach.call(d,function(t){for(var e=0,r=(n=u.querySelectorAll("["+t+'*="'+h+'"]')).length;e<r;e++)n[e].setAttribute(t,"url(#"+v+")")});for(var o=u.querySelectorAll("[*|href]"),i=[],a=0,s=o.length;a<s;a++)o[a].getAttributeNS(x,"href").toString()==="#"+p[e].id&&i.push(o[a]);for(var l=0,c=i.length;l<c;l++)i[l].setAttributeNS(x,"href","#"+v);p[e].id=v}}),u.removeAttribute("xmlns:a");for(var i,a,s=u.querySelectorAll("script"),l=[],c=0,y=s.length;c<y;c++)(a=s[c].getAttribute("type"))&&"application/ecmascript"!==a&&"application/javascript"!==a||(i=s[c].innerText||s[c].textContent,l.push(i),u.removeChild(s[c]));if(0<l.length&&("always"===A||"once"===A&&!G[j])){for(var g=0,b=l.length;g<b;g++)new Function(l[g])(window);G[j]=!0}var w=u.querySelectorAll("style");Array.prototype.forEach.call(w,function(t){t.textContent+=""}),u.setAttribute("xmlns","http://www.w3.org/2000/svg"),u.setAttribute("xmlns:xlink",x),S.parentNode.replaceChild(u,S),delete k[k.indexOf(S)],S=null,C++,O(u)}));else{var r=S.getAttribute("data-fallback")||S.getAttribute("data-png");r?(S.setAttribute("src",r),O(null)):t?(S.setAttribute("src",t+"/"+j.split("/").pop().replace(".svg",".png")),O(null)):O("This browser does not support SVG and no PNG fallback was defined.")}else O("Attempted to inject a file with a non-svg extension: "+j)},r=function(i){var t,e;function r(){for(var t,e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e=i.call.apply(i,[this].concat(n))||this,e.refCallback=function(t){e.container=t},t||function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}e=i,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;return n.renderSVG=function(){if(this.container instanceof Node){var t=this.props,e=t.evalScripts,r=t.onInjected,n=t.path,o=t.svgClassName,i=t.svgStyle,a=document.createElement("div");a.innerHTML=l.renderToStaticMarkup(s.createElement("div",null,s.createElement("div",{className:o,"data-src":n,style:i}))),function(e,t,r){void 0===t&&(t={});var n=t.evalScripts||"always",o=t.pngFallback||!1,i=t.each;if(void 0!==e.length){var a=0;Array.prototype.forEach.call(e,function(t){u(t,n,o,function(t){i&&"function"==typeof i&&i(t),r&&e.length===++a&&r(a)})})}else e?u(e,n,o,function(t){i&&"function"==typeof i&&i(t),r&&r(1),e=null}):r&&r(0)}(this.container.appendChild(a.firstChild).firstChild,{each:r,evalScripts:e})}},n.removeSVG=function(){this.container instanceof Node&&this.container.firstChild instanceof Node&&this.container.removeChild(this.container.firstChild)},n.componentDidMount=function(){this.renderSVG()},n.componentDidUpdate=function(){this.removeSVG(),this.renderSVG()},n.componentWillUnmount=function(){this.removeSVG()},n.render=function(){var t=this.props,e=(t.evalScripts,t.onInjected,t.path,t.svgClassName,t.svgStyle,function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],0<=e.indexOf(r)||(o[r]=t[r]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,["evalScripts","onInjected","path","svgClassName","svgStyle"]));return s.createElement("div",o({},e,{ref:this.refCallback}))},r}(s.Component);return r.defaultProps={evalScripts:"never",onInjected:function(){},svgClassName:null,svgStyle:{}},r});
